# TrendRadar 核心配置文件 - 定制各平台热榜前10名
# 基础配置
basic:
  timezone: "Asia/Shanghai"  # 时区设置
  log_level: "DEBUG"         # 改为DEBUG，方便排查抓取问题（建议调试完成后改回INFO）

# 平台配置（指定监控平台+抓取前10条）
platforms:
  - id: "weibo"
    name: "微博热搜"
    top_n: 10                # 强制抓取微博热榜前10
  - id: "douyin"
    name: "抖音热榜"
    top_n: 10                # 强制抓取抖音热榜前10
  - id: "zhihu"
    name: "知乎热榜"
    top_n: 10                # 强制抓取知乎热榜前10
  - id: "toutiao"
    name: "今日头条热榜"
    top_n: 10                # 强制抓取今日头条热榜前10

# 爬虫配置（避免反爬，关键修改）
crawler:
  request_interval: 3000     # 从1500ms改为3000ms，降低反爬风险
  timeout: 30                # 请求超时时间30秒
  use_proxy: false           # 如需代理，改为true并配置下方地址
  default_proxy: "http://127.0.0.1:7890"  # 代理示例（按需修改）
  # 新增：伪装浏览器请求头，避免被反爬识别
  headers:
    User-Agent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
    Accept-Language: "zh-CN,zh;q=0.9"

# 报告/展示规则（锁定原生排名）
report:
  mode: "current"            # 实时榜单模式（非每日/增量）
  rank_threshold: 5          # 排名高亮阈值（不影响数量）
  show_platform: true        # 显示平台名称
  show_rank: true            # 显示热榜排名
  # 通知配置调整层级（嵌套到report下，适配主流版本）
  notification:
    enabled: false                      # 先关闭通知（避免配置不全导致报错）
    push_window:
      enabled: false
      start: "20:00"
      end: "22:00"
      once_per_day: true
    standalone_display:
      enabled: false                     # 先关闭独立展示区（减少干扰）
      platforms: []
      rss_feeds: []
      max_items: 20
    channels:
      feishu:
        webhook_url: ""
      dingtalk:
        webhook_url: ""
      wework:
        webhook_url: ""
        msg_type: "markdown"

# 权重配置（禁用算法重排，保留平台原生顺序）
weight:
  rank_weight: 1.0           # 平台原生排名权重拉满
  frequency_weight: 0.0      # 关键词频率权重归零
  hotness_weight: 0.0        # 热度权重归零

# 聚合配置（关闭跨平台合并，保证单平台独立榜单）
aggregation:
  enable_aggregation: false  # 关闭跨平台内容聚合
  enable_deduplication: false # 关闭重复内容去重

# 新增：调度器配置（核心！强制启动后立即抓取热榜）
scheduler:
  interval: 60               # 每60秒抓取一次
  immediate: true            # 启动后立即执行，无需等待

# 输出配置
output:
  enable_file_output: true   # 生成本地文件
  output_path: "./output"    # 输出目录
  file_format: "markdown"    # 输出格式：markdown/txt/json
